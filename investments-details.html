<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Long Term Investments Details</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Chart.js Data Labels Plugin for percentage labels -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <style>
    body {
      font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
      padding: 32px;
      background: #f7fafd;
      color: #222;
    }
    h1 {
      font-size: 2rem;
      margin-top: 0;
      margin-bottom: 12px;
    }
    .section {
      margin-bottom: 28px;
    }
    .charts-row {
      display: flex;
      flex-wrap: wrap;
      gap: 48px;
      margin-top: 28px;
      margin-bottom: 48px;
      justify-content: flex-start;
    }
    .chart-container {
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 2px 14px rgba(0,0,0,0.08);
      padding: 22px 18px 12px 18px;
      flex: 1 1 320px;
      min-width: 320px;
      max-width: 430px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .chart-title {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 16px;
      text-align: center;
    }
    ul.investments-list {
      margin-top: 0;
      margin-bottom: 8px;
    }
    ul.investments-list li {
      font-size: 1.05rem;
      margin-bottom: 2px;
    }
    .section-title {
      font-size: 1.22rem;
      font-weight: bold;
      margin-bottom: 8px;
      margin-top: 18px;
    }
    .stock-table {
      border-collapse: collapse;
      width: 100%;
      max-width: 900px;
      margin-bottom: 24px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.07);
      overflow: hidden;
    }
    .stock-table th, .stock-table td {
      padding: 7px 13px;
      text-align: left;
      font-size: 1rem;
      border-bottom: 1px solid #eee;
    }
    .stock-table th {
      background: #e9e9f9;
      font-weight: 600;
    }
    .stock-table tr:last-child td {
      border-bottom: none;
    }
  </style>
</head>
<body>
  <h1>Long Term Investments Details</h1>

  <section class="section">
    <div class="section-title">Current Holdings</div>
    <table class="stock-table">
      <thead>
        <tr>
          <th>Stock Name</th>
          <th>Ticker</th>
          <th>Country</th>
          <th>Market Cap</th>
          <th>Sector</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Microsoft</td>
          <td>MSFT</td>
          <td>USA</td>
          <td>Large</td>
          <td>Technology</td>
        </tr>
        <tr>
          <td>CVS Health</td>
          <td>CVS</td>
          <td>USA</td>
          <td>Large</td>
          <td>Healthcare</td>
        </tr>
        <tr>
          <td>BYD</td>
          <td>BYDDF</td>
          <td>China</td>
          <td>Large</td>
          <td>Automotive</td>
        </tr>
        <tr>
          <td>Artisan Partners Asset Management</td>
          <td>APAM</td>
          <td>USA</td>
          <td>Mid</td>
          <td>Financials</td>
        </tr>
        <tr>
          <td>Greif (Class A)</td>
          <td>GEF</td>
          <td>USA</td>
          <td>Mid</td>
          <td>Materials</td>
        </tr>
        <tr>
          <td>Harmony Gold Mining</td>
          <td>HMY</td>
          <td>South Africa</td>
          <td>Mid</td>
          <td>Mining</td>
        </tr>
        <tr>
          <td>Mastercard</td>
          <td>MA</td>
          <td>USA</td>
          <td>Large</td>
          <td>Financials</td>
        </tr>
        <tr>
          <td>Penguin Solutions</td>
          <td>â€”</td>
          <td>USA</td>
          <td>Small</td>
          <td>IT Solutions</td>
        </tr>
      </tbody>
    </table>
  </section>

  <div class="charts-row">
    <div class="chart-container">
      <div class="chart-title">Geographic Weightings</div>
      <canvas id="geoPie"></canvas>
    </div>
    <div class="chart-container">
      <div class="chart-title">Market Cap Weightings</div>
      <canvas id="capPie"></canvas>
    </div>
    <div class="chart-container">
      <div class="chart-title">Sector Weightings</div>
      <canvas id="sectorPie"></canvas>
    </div>
  </div>

  <script>
    // Pie chart data
    const geoData = {
      labels: ["USA", "China", "South Africa"],
      datasets: [{
        data: [6, 1, 1], // Microsoft, CVS, APAM, GEF, MA, Penguin (USA), BYD (China), Harmony Gold (South Africa)
        backgroundColor: ["#0073e6", "#ffbc42", "#80b918"]
      }]
    };

    const capData = {
      labels: ["Large Cap", "Mid Cap", "Small Cap"],
      datasets: [{
        data: [4, 3, 1], // Large: MSFT, MA, CVS, BYD; Mid: APAM, GEF, Harmony Gold; Small: Penguin Solutions
        backgroundColor: ["#1b9aaa", "#f39237", "#a1e44d"]
      }]
    };

    const sectorData = {
      labels: ["Technology", "Healthcare", "Automotive", "Financials", "Materials", "Mining", "IT Solutions"],
      datasets: [{
        data: [1, 1, 1, 2, 1, 1, 1], // Tech: MSFT; Healthcare: CVS; Automotive: BYD; Financials: MA, APAM; Materials: GEF; Mining: Harmony; IT: Penguin
        backgroundColor: [
          "#3a86ff", "#ff006e", "#fb5607", "#8338ec", "#ffbe0b", "#43aa8b", "#a3a380"
        ]
      }]
    };

    // Chart.js options for all pies, enable datalabels plugin
    const pieOptions = {
      plugins: {
        legend: {
          position: 'bottom',
          labels: { font: { size: 15 } }
        },
        datalabels: {
          color: '#222',
          font: { weight: 'bold', size: 15 },
          formatter: function(value, ctx) {
            const total = ctx.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
            const pct = ((value / total) * 100).toFixed(1);
            return pct + '%';
          }
        }
      }
    };

    Chart.register(window.ChartDataLabels);

    // Render all charts
    new Chart(document.getElementById('geoPie'), {
      type: 'pie',
      data: geoData,
      options: pieOptions,
      plugins: [ChartDataLabels]
    });
    new Chart(document.getElementById('capPie'), {
      type: 'pie',
      data: capData,
      options: pieOptions,
      plugins: [ChartDataLabels]
    });
    new Chart(document.getElementById('sectorPie'), {
      type: 'pie',
      data: sectorData,
      options: pieOptions,
      plugins: [ChartDataLabels]
    });
  </script>
</body>
</html>
